<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Constellation.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Constellation.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { ConstellationStar } from "./ConstellationStar.js";

// Constellation Class
/*
This class draws and tracks its own stars. Must be given coordinates
of the stars relative to the top left of the screen
*/
export class Constellation {
  /**
   * Takes star list which is an array of star coordinates and creates stars
   * @param {Array} star_coord_list list of star coordinates
   * @param {string} name name of constellation
   * @param {JSON} connect the paths to connect all the stars in the constellation.
   */
  constructor(ctx, star_coord_list, name, width, height, connect) {
    this.stars = [];
    for (const coord of star_coord_list) {
      let color = "white";
      let selected_color = "#2ec1db";
      this.stars.push(
        new ConstellationStar(
          ctx,
          coord[0],
          coord[1],
          4,
          false,
          0.5,
          color,
          selected_color
        )
      );
    }
    this.name = name;
    this.connect = connect;
  }

  /*
    Click event handler, pass click event to all stars in the constellation
    */
  click(x, y) {
    for (const star of this.stars) {
      star.click(x, y);
    }
  }

  /*
    Draw function, draw all stars in constellation
    */
  draw(user_x, user_y) {
    for (const star of this.stars) {
      star.update(user_x, user_y);
    }
  }

  /*
    Update function, to be called by animation loop
    */
  update(user_x, user_y) {
    this.draw(user_x, user_y);
  }
  /*
    New update function if the current constellation is the final result.
    */
  updateNew(user_x, user_y) {
    this.draw(user_x, user_y);
    this.connectAll();
  }

  /*
    Connect all the points in the constellation
    */
  connectAll() {
    let points = this.connect;
    for (let starting in points) {
      let destinations = points[starting];
      for (let i in destinations) {
        let destination = destinations[i];
        let start = this.stars[starting];
        let final = this.stars[destination];
        start.connect(final);
      }
    }
  }
  /*
    Get constellation selected ratio
    */
  get selected_ratio() {
    let stars_selected_cnt = 0;
    for (const star of this.stars) {
      if (star.isSelected) {
        stars_selected_cnt += 1;
      }
    }
    return stars_selected_cnt / this.stars.length;
  }

  /**
   * Get the number of selected stars in the constellation
   */
  get selected_number() {
    let stars_selected_cnt = 0;
    for (const star of this.stars) {
      if (star.isSelected) {
        stars_selected_cnt += 1;
      }
    }
    return stars_selected_cnt;
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Background_Background.html">Background</a></li><li><a href="Constellation_Constellation.html">Constellation</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Sat May 27 2023 08:08:00 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
